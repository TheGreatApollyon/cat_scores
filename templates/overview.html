{% extends "base.html" %} {% block title %}Cluster Leaderboard{% endblock %} {%
block content %}
<div
  class="page-header {% if public_view %}glass-header{% else %}admin-header{% endif %}"
>
  <h2>ğŸ† Cluster Leaderboard</h2>
</div>

{% if public_view %}
<div class="alert alert-info glass-alert">
  ğŸ“Š Live competition standings - Updated in real-time
</div>
{% endif %}

<div class="card {% if public_view %}glass-card{% else %}admin-card{% endif %}">
  {% if leaderboard %}
  <table
    class="table leaderboard-table {% if public_view %}glass-table{% else %}admin-table{% endif %}"
  >
    <thead>
      <tr>
        <th>Rank</th>
        <th>Cluster</th>
        <th>Total Points</th>
      </tr>
    </thead>
    <tbody>
      {% for item in leaderboard %}
      <tr>
        <td class="rank-cell">{{ loop.index }}</td>
        <td class="cluster-cell">
          <img
            src="{{ item.cluster.get_logo_url() }}"
            alt="{{ item.cluster.name }}"
            class="cluster-logo"
            onerror="this.style.display='none'; this.nextElementSibling.style.display='inline';"
          />
          <span class="cluster-name">{{ item.cluster.name }}</span>
        </td>
        <td class="points-cell">{{ item.total_points }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>No clusters found.</p>
  {% endif %}
</div>
{% endblock %}
